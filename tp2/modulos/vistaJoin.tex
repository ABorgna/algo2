\section{VistaJoin}

\subsection{Especificación}

\begin{tad}{\tadNombre{VistaJoin}}
    \tadIgualdadObservacional{vj}{vj'}{vistaJoin}{}

\tadGeneros{vistaJoin}
\tadExporta{vistaJoin, generadores, observadores, otras operaciones}
\tadUsa{}

\tadObservadores
\tadOperacion{vjCampo}{vistaJoin/vj}{campo}{}
\tadOperacion{vjCamposA}{vistaJoin/vj}{registro}{}
\tadOperacion{vjCamposB}{vistaJoin/vj}{registro}{}
\tadOperacion{vjJoins}{vistaJoin/vj}{conj(registro)}{}

\tadGeneradores
\tadOperacion{nuevaVistaJoin}{registro/colsA, registro/colsB, campo/c}{vistaJoin}
    {$c \in$ campos(colsA) $\land c \in$ campos(colsB) $\land_L$
    tipo?(obtener(c,colsA)) \igobs tipo?(obtener(c,colsB))}
\tadOperacion{vjInsertA}{registro/r, vistaJoin/vj}{vistaJoin}{// registro valido}
\tadOperacion{vjInsertB}{registro/r, vistaJoin/vj}{vistaJoin}{// registro valido}
\tadOperacion{vjDeleteA}{registro/r, vistaJoin/vj}{vistaJoin}{// registro valido}
\tadOperacion{vjDeleteB}{registro/r, vistaJoin/vj}{vistaJoin}{// registro valido}

\tadOtrasOperaciones
\tadOperacion{vjTipoCampo}{vistaJoin/vj}{tipo}{}

\tadAxiomas[\paratodo{vistaJoin}{vj}]

\end{tad}

\subsection{Interfaz}

\iusa{}
\iseexplica{VistaJoin}
\igenero{vistaJoin}

\ioperaciones

\subsection{Representación}

-- todo: explicacion --

\serepresenta{vistaJoin}{vec}
\donde{vec}{tupla($camposA$: registro, $camposB$: registro, $campoJoin$: campo, $buffer$: buffer, \\
    $vistaString$: vString, $vistaStringCompleta$: vStringC, \\
    $vistaNat$: vNat, $vistaNatCompleta$: vNatC)}

\donde{buffer}{lista($operacionJoin$)}
\donde{operacionJoin}{tupla($esInsercion$: bool, $insertado$: puntero($registro$), $borrado$: registro)}
\donde{vString}{diccAvl($string$,$registro$)}
\donde{vStringC}{diccAvl($string$,$registroJoin$)}
\donde{vNat}{diccAvl($nat$,$registro$)}
\donde{vNatC}{diccAvl($nat$,$registroJoin$)}
\donde{registroJoin}{tupla($a$: puntero($registro$), $b$: puntero($registro$))}

\donde{campo}{string}
\donde{registro}{avl($campo$, $dato$)}

\subsubsection{Invariante de representación}

\subsubsection{Función de abstracción}

\subsection{Algoritmos}

\subsection{Servicios usados}

